<!-- checkout.component.html -->
<main class="mt-16">
  <div class="container-fluid checkout-container">
    <div class="d-flex align-content-end mb-2">
      <div class="mr-2 checkout-logo">
        <img
          src="/assets/images/LOGO.png"
          class="w-100 h-100"
          alt=""
          srcset=""
          loading="lazy"
        />
      </div>
      <h1 class="m-0 d-flex align-baseline mt-4 heading-checkout">Checkout</h1>
    </div>

    <div class="d-flex flex-column flex-md-row justify-content-between">
      <div class="row flex-grow-1 mr-md-1">
        <!-- Payment Section -->
        <div class="col-md-12">
          <div class="payment-section border p-3 mb-3">
            <div class="d-flex justify-content-between">
              <strong>Pay with</strong>
              <strong (click)="openNewCardModal()" class="" style="text-decoration: underline;cursor: pointer;"
                >Add Card</strong
              >
              <!-- <span class="">
                You can split your payment for this order.
              </span> -->
            </div>
            <div
              *ngFor="let payment of paymentDeposit; trackBy: trackById"
              class="d-flex justify-content-between border-b p-4"
            >
              <div>
                <img [src]="payment.img" alt="" loading="lazy" />
                <!-- form-check-label -->
                <label class="ml-3" [for]="payment.value">{{
                  payment.detail1
                }}</label>
              </div>
              <!-- form-check-input -->
              <input
                type="radio"
                class=""
                [(ngModel)]="paymentMethod"
                [value]="payment.value"
                [id]="payment.value"
              />
            </div>

            <!-- <div class="form-check">
              <input
                type="radio"
                class="form-check-input"
                [(ngModel)]="paymentMethod"
                value="card"
                id="card"
              />
              <label class="form-check-label" for="card"> Add new card </label>
            </div>
            <div class="form-check">
              <input
                type="radio"
                class="form-check-input"
                [(ngModel)]="paymentMethod"
                value="applepay"
                id="applepay"
              />
              <label class="form-check-label" for="applepay">Apple Pay</label>
            </div> -->
          </div>
        </div>

        <!-- Shipping Section -->
        <div class="col-md-12">
          <div class="shipping-section border p-3 mb-3">
            <h4>Ship to</h4>
            <span class="d-block fs-14">Haroon Irshad</span>
            <span class="d-block fs-14">Fatygar Mughal pure lahore</span>
            <span class="d-block fs-14">Punjab Lahore</span>
            <span class="d-block fs-14">03094393326</span>
          </div>
        </div>

        <div class="col-md-12">
          <div class="border p-3 mb-3">
            <h4>Review Order</h4>
            <div
              *ngFor="let orderItem of cartItems"
              class="shipping-section border-b pt-2 pb-2"
            >
              <div class="d-flex">
                <span style="font-size: 15px">Seller:</span>
                <span style="font-size: 15px" class="ml-2">{{
                  orderItem.title
                }}</span>
                <div class="d-flex">
                  <span style="font-size: 15px" class="ml-2"
                    ><a routerLink="#">Add note for seller</a></span
                  >
                  <span style="font-size: 15px" class="ml-2"
                    ><a routerLink="#">Pay only this seller</a></span
                  >
                </div>
              </div>
              <div class="review-product" class="d-flex mt-3 position-relative">
                <div
                  style="
                    width: 100px;
                    height: 100px;
                    z-index: 0;
                    position: relative;
                  "
                >
                  <img
                    [src]="orderItem.imageUrl"
                    alt=""
                    loading="lazy"
                    class="w-100 h-100 object-fit-contain"
                  />
                  <div
                    class="text-white pl-1 pr-1 price-tag position-absolute py-1 rounded d-flex align-items-center justify-content-center border z-1"
                  >
                    AED 1700
                    <!-- {{
                    formatPrice(
                      postData?.auction_price
                        ? postData?.auction_price
                        : postData.fix_price
                    )
                  }} -->
                  </div>
                </div>

                <div class="ml-4">
                  <button
                    style="
                      border: 1px solid red;
                      color: red;
                      border-radius: 16px;
                      font-size: 11px;
                      background-color: transparent;
                      padding: 0px 10px;
                    "
                  >
                    Last One
                  </button>
                  <p class="m-0 p-0 fs-16">Iphone 16 pro max</p>
                  <!-- <p class="m-0 p-0 fs-14">AED 579</p> -->
                  <div class="mt-2">
                    <p class="m-0 p-0 fs-14">Quantity 1</p>
                    <button
                      class="border-0 text-primary link-underline borde-none bg-transparent p-0 fs-14"
                    >
                      Remove
                    </button>
                  </div>
                  <div>
                    <span class="fs-14">Delivery</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- ttoffer-gift -->
        <div class="col-12">
          <div class="pt-1 pb-4 pl-2 border">
            <h5 class="fs-16 fw-semibold mt-1">
              TToffer Gift Cards and coupons
            </h5>
            <div class="d-flex mt-4">
              <input
                type="text"
                placeholder="Enter Code:"
                class="p-2 input-coupons text-gray-300"
              />
              <button
                class="btn btn-primary p-2 confrim-btn apply-btn"
                [disabled]="!paymentMethod"
              >
                Apply
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- right-side -->
      <div class="right-side-checkout">
        <div class="border p-2 mb-2 mt-3 mt-md-0 mx-auto w-100">
          <div class="d-flex justify-content-between">
            <span class="summary-header">Items (1)</span>
            <span class="summary-total"> AED {{ itemTotal }}</span>
          </div>
          <hr />
          <div class="d-flex justify-content-between subtotal">
            <span>Order Total</span>
            <span>AED {{ itemTotal }}</span>
          </div>
          <div class="p-2 right-term-condition mt-2">
            <p>
              By confirming your order, you agree to the
              <strong>TToffer</strong> <a href="#">Trems & conditions</a>
            </p>
          </div>

          <button
            class="btn btn-primary w-100 p-2 confrim-btn mt-2"
            [disabled]="!paymentMethod"
          >
            Confirm and Pay
          </button>
        </div>
      </div>
    </div>
  </div>
</main>

<div
  class="modal fade"
  id="newCardModal"
  tabindex="-2"
  role="dialog"
  aria-labelledby="newCardModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content custom-modal-content">
      <div class="modal-header border-0">
        <button
          type="button"
          class="close"
          (click)="closeNewCardModal()"
          aria-label="Close"
        >
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <!-- Modal Body -->
      <div class="modal-body custom-modal-body">
        <div class="row">
          <div class="col-11 mx-auto">
            <div class="text-center">
              <h6>Add New Card</h6>
            </div>
            <div class="row">
              <div class="col-10 mx-auto mt-4">
                <label>Card Name</label>
                <input
                  type="text"
                  class="form-control custom-input"
                  placeholder="Card Name"
                />
              </div>
              <div class="col-10 mx-auto mt-3">
                <label>Card Number</label>
                <input
                  type="text"
                  class="form-control custom-input"
                  placeholder="Card Number"
                />
              </div>
              <div class="col-10 mx-auto mt-3">
                <div class="row">
                  <div class="col-6 mx-auto">
                    <label>MM/YY</label>
                    <input
                      type="text"
                      class="form-control custom-input"
                      placeholder="MM/YY"
                    />
                  </div>
                  <div class="col-6 mx-auto">
                    <label>CVV</label>
                    <input
                      type="text"
                      class="form-control custom-input"
                      placeholder="CVV"
                    />
                  </div>
                </div>
              </div>
              <div class="col-10 mx-auto mt-3">
                <button class="btn btn-dark w-100 custom-button">
                  Add Payment Method
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

