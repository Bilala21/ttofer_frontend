<main class="mt-16">
  <section class="shopping-cart container-fluid">
    <div class="flex-grow-1">
      <h2>Shopping Cart</h2>
      <div class="d-flex align-baseline">
        <mat-checkbox></mat-checkbox>
        <span class="ml-3 mt-2">Select All</span>
      </div>

      <!-- Cart Items Section -->
      <div *ngFor="let item of cartItems" class="cart-item">
        <div class="item-details w-100">
          <div class="item-header d-block d-md-flex justify-content-between">
            <div class="d-flex">
              <img [src]="item.imageUrl" alt="Product Image" class="seller-image" />
              <div>
                <span class="product-title d-block">{{ item.title }}</span>
                <span class="text-yellow-800 d-block ">★★★★★</span>
              </div>
            </div>
            <div class="d-flex align-items-center justify-content-end">
              <a href="" class="mr-1 pay_only request_combined">Pay only this seller</a>
              <span class="mr-1 request_combined">Request combined shipping</span>
              <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1.2em" width="1.2em" xmlns="http://www.w3.org/2000/svg"><path d="M256 90c44.3 0 86 17.3 117.4 48.6C404.7 170 422 211.7 422 256s-17.3 86-48.6 117.4C342 404.7 300.3 422 256 422s-86-17.3-117.4-48.6C107.3 342 90 300.3 90 256s17.3-86 48.6-117.4C170 107.3 211.7 90 256 90m0-42C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48z"></path><path d="M277 360h-42V235h42v125zm0-166h-42v-42h42v42z"></path></svg>
            </div>
          </div>

          <div class="d-block d-md-flex justify-content-between mt-3">
            <div class="flex-grow-1 d-flex align-content-center">
              <span class="my-auto">
                <mat-checkbox></mat-checkbox>
              </span>
            <img [src]="item.imageUrl" alt="Product Image" class="product-image" />
            <span class="product-description my-auto">{{ item.description }}</span>
          </div>
            <div class="d-flex align-items-center justify-content-end  flex-grow-1 mt-2 mt-md-0">
              <span class="mr-5">
              <span class="mr-1">Qty</span>
              <select [(ngModel)]="quantities" class="form-select ms-2">
                <option *ngFor="let qty of quantities" [value]="qty">{{ qty }}</option>
              </select>
            </span>
              <span class="price-tag ms-3">{{ item.price | currency : 'AED' : 'symbol' : '1.2-2' }}</span>
            </div>
          </div>

          <div class="item-actions w-100">
            <a routerLink="#" class="mr-3 pay_only">Buy it now</a>
            <span class="mr-3" (click)="saveForLater(item)">Save for later</span>
            <span (click)="removeItem(item)">Remove</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Cart Summary Section -->
    <div class="cart-summary">
      <div class="d-flex justify-content-between">
        <span class="summary-header">Items ({{ cartItems.length }})</span>
        <span class="summary-total"> AED {{ calculateTotal() }}</span>
      </div>
      <hr>
      <div class="d-flex justify-content-between sub-total">
        <span>Subtotal:</span>
        <span>AED {{ calculateTotal() }}</span>
      </div>
      <button mat-raised-button color="primary" (click)="goToCheckout()">Go to checkout</button>
    </div>
  </section>
</main>
