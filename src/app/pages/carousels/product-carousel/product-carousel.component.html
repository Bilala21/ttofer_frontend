<div class="carousel-container">
    <div class="main-image-container">
        <img 
            [src]="selectedImage?.lowResSrc || selectedImage?.src" 
            [attr.data-src]="selectedImage?.src" 
            class="main-image w-100 carousel-h" 
            [class.lazyloaded]="onImageLoad"
            (load)="onImageLoad()"
            alt="Main Image"
            style="filter: blur(10px); transition: filter 0.5s;"
        >
    </div>
    <div class="thumbnail-container mt-3 d-flex justify-content-center align-items-center">
        <button class="carousel-control-prev" (click)="previousImage()">
            <img src="assets/images/left-arrow.png" class="w-100" aria-hidden="true" alt="">
        </button>
        <div class="thumbnail-row d-flex">
            <div class="thumbnail-item" *ngFor="let image of media">
                <img 
                    [src]="image?.src" 
                    class="thumbnail-image img-fluid" 
                    [class.selected]="image === selectedImage"
                    (click)="selectImage(image)"
                >
            </div>
        </div>
        <button class="carousel-control-next" (click)="nextImage()">
            <img src="assets/images/right-arrow.png" class="w-100" aria-hidden="true" alt="">
        </button>
    </div>
</div>
