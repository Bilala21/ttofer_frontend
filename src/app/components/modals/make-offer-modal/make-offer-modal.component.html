<!--BILAL: MAKER OFFER -->
<div class="fixed-top modal-container pt-5 {{showConfirmModal?'':'d-none'}}">

  <div class="bg-white rounded-2 make-offer-card pb-3 mx-auto p-2">
    <!-- STEP 1 MODAL -->
    <form class="{{isFinalStep?'d-none':''}}" [formGroup]="offerForm" (ngSubmit)="onSubmit()">
      <div class="text-right">
        <button type="button" class="w-fit border-0 rounded-pill bg-gray-450 p-0" (click)="closeModal()"><i
            class="fas fa-times fs-14"></i>
        </button>
      </div>
      <div class="px-4 pt-3 text-center">
        <h4>make an offer</h4>
        <div class="py-3">
          <p class="fw-normal">buy it Now price: AED 1235</p>
          <p class="text-gray-300">5 offers left</p>
        </div>
        <div>
          <p>your offer</p>
          <input type="text" placeholder="AED 0" class="fw-normal text-center border-0 mt-1 bid-price fs-24"
            formControlName="offer_price">
          <div
            *ngIf="offerForm.get('offer_price')?.invalid && (offerForm.get('offer_price')?.touched || offerForm.get('offer_price')?.dirty)"
            class="text-red-500 text-sm">
            <div class="text-danger fs-14"
              *ngIf="offerForm.get('offer_price')?.hasError('pattern') && offerForm.get('offer_price')?.touched">
              Offer price must be a number.
            </div>
            <div class="text-danger fs-14"
              *ngIf="offerForm.get('offer_price')?.hasError('required') && offerForm.get('offer_price')?.touched">
              Offer price is required.
            </div>
          </div>
        </div>
        <hr>
        <div class="d-flex align-content-center">
          <span class="border-1 rounded-pill px-2 py-2 offer-btn flex-grow-1 cursor-pointer">AED 123</span>
          <span class="border-1 rounded-pill px-2 py-2 offer-btn flex-grow-1 cursor-pointer mx-2">AED 123</span>
          <span class="border-1 rounded-pill px-2 py-2 offer-btn flex-grow-1 cursor-pointer">AED 123</span>
        </div>
        <div class="mb-4">
          <textarea name="" class="bg-gray-450 w-100 rounded-2 p-2 mt-4 border-1" rows="4"
            placeholder="Message(optional)" formControlName="description"></textarea>
          <p class="text-right">0/123</p>
        </div>
        <button type="submit" class="btn-yellow rounded-pill border-0 py-2 text-white mb-2 w-100">Continue</button>

        <a routerLink="/" class="fs-14 text-decoration-underline text-dark-650">how offer work {{showConfirmModal}}</a>
      </div>
    </form>
    <!-- END STEP 1 MODAL -->

    <!-- STEP 2 MODAL -->
    <form class="{{isFinalStep?'':'d-none'}}" [formGroup]="offerForm" (ngSubmit)="finalStemSubmit()">
      <div class="text-right">
        <button class="w-fit border-0 rounded-pill bg-gray-450 p-0" data-dismiss="modal" aria-label="Close"><i
            class="fas fa-times fs-14"></i>
        </button>
      </div>
      <div class="px-4 pt-3">
        <h4>Make your offer</h4>
        <div class="py-3">
          <p class="fw-normal">Your offer <span>AED {{offerForm.get('offer_price')?.value}}</span></p>
        </div>
        <hr class="mt-0">
        <div class="fw-normal d-flex align-items-center py-3">
          <p class="m-0 pr-2">Shipping</p>
          <input type="text" placeholder="Enter shipping type" class="px-2 border-1 py-2 flex-grow-1 rounded">
        </div>
        <hr>
        <div class="d-flex align-content-center mb-3">
          <span class="mr-2 fw-normal">Estimated total:</span>
          <span class="fw-normal">AED {{offerForm.get('offer_price')?.value}}</span>
        </div>
        <div>
          <p class="text-center">
            By clicking <strong>make offer</strong>, you are agreeing to buy this item if your offer is accepted and
            will
            be requiered to pay within 4 days. The seller has 24 hours to respond.
          </p>
        </div>
        <div class="d-flex align-content-center mt-5 mb-3 butons-grp">
          <button type="button"
            class="bg-transparent text-dark-650 rounded-pill border-yellow border-1 py-2 flex-grow-1 mr-3"
            (click)="isFinalStep=false">Edit
            offer</button>
          <button type="submit" class="btn-yellow rounded-pill border-0 py-2 text-white flex-grow-1">Make offer</button>
        </div>
      </div>
    </form>
    <!-- END STEP 2 MODAL -->
  </div>
</div>